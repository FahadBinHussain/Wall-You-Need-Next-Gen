<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="Wall_You_Need_Next_Gen.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Wall_You_Need_Next_Gen"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Title="Wall-You-Need">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <Grid.Resources>
            <!-- Define colors -->
            <SolidColorBrush x:Key="NavbarAccentBrush" Color="#FF5733"/>
            <SolidColorBrush x:Key="NavbarIconBrush" Color="#FF5733"/>
            <SolidColorBrush x:Key="NavbarTextBrush" Color="#6C757D"/>
            <SolidColorBrush x:Key="NavbarSelectedBgBrush" Color="#F0F0F0"/>
            
            <!-- Define styles -->
            <Style x:Key="NavButtonStyle" TargetType="Button">
                <Setter Property="Width" Value="76"/>
                <Setter Property="Height" Value="76"/>
                <Setter Property="Padding" Value="0"/>
                <Setter Property="Margin" Value="0"/>
                <Setter Property="Background" Value="Transparent"/>
                <Setter Property="BorderThickness" Value="0"/>
                <Setter Property="HorizontalAlignment" Value="Stretch"/>
                <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
            </Style>
            
            <Style x:Key="NavItemBorderStyle" TargetType="Border">
                <Setter Property="Width" Value="76"/>
                <Setter Property="Height" Value="76"/>
                <Setter Property="BorderThickness" Value="0"/>
                <Setter Property="Padding" Value="0"/>
                <Setter Property="Margin" Value="0"/>
                <Setter Property="HorizontalAlignment" Value="Stretch"/>
            </Style>
            
            <Style x:Key="NavItemActiveBorderStyle" TargetType="Border" BasedOn="{StaticResource NavItemBorderStyle}">
                <Setter Property="Background" Value="{StaticResource NavbarSelectedBgBrush}"/>
                <Setter Property="BorderBrush" Value="{StaticResource NavbarAccentBrush}"/>
                <Setter Property="BorderThickness" Value="4,0,0,0"/>
            </Style>
            
            <Style x:Key="NavIconStyle" TargetType="Image">
                <Setter Property="Width" Value="28"/>
                <Setter Property="Height" Value="28"/>
                <Setter Property="Margin" Value="0,0,0,4"/>
            </Style>
            
            <Style x:Key="NavTextStyle" TargetType="TextBlock">
                <Setter Property="FontSize" Value="10"/>
                <Setter Property="HorizontalAlignment" Value="Center"/>
                <Setter Property="Foreground" Value="{StaticResource NavbarTextBrush}"/>
            </Style>
        </Grid.Resources>
        
        <!-- Custom TitleBar -->
        <Grid x:Name="CustomTitleBar" Grid.Row="0" Height="48" Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            
            <StackPanel Grid.Column="0" Orientation="Horizontal" Margin="16,0,0,0" VerticalAlignment="Center">
                <Image Source="ms-appx:///Assets/logo.png" Width="24" Height="24" Margin="0,0,8,0" />
                <TextBlock Text="Wall-You-Need" VerticalAlignment="Center" FontSize="14" Style="{StaticResource BodyTextBlockStyle}" />
            </StackPanel>
            
            <Grid Grid.Column="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="0.4*" />
                    <ColumnDefinition Width="0.6*" />
                </Grid.ColumnDefinitions>
                <AutoSuggestBox Grid.Column="1" PlaceholderText="Search..." 
                                Margin="10,8" 
                                Width="Auto"
                                MinWidth="200"
                                MaxWidth="400"
                                HorizontalAlignment="Left" 
                                QueryIcon="Find">
                    <AutoSuggestBox.CacheMode>
                        <BitmapCache />
                    </AutoSuggestBox.CacheMode>
                    <AutoSuggestBox.RenderTransform>
                        <TransformGroup>
                            <ScaleTransform />
                        </TransformGroup>
                    </AutoSuggestBox.RenderTransform>
                </AutoSuggestBox>
            </Grid>
        </Grid>
        
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="76" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
        
            <!-- Side Navigation -->
            <Border x:Name="NavigationContainer"
                    Grid.Column="0" 
                    Background="#F9F9F9" 
                    BorderBrush="#EEEEEE" 
                    BorderThickness="0,0,1,0">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <!-- Main Navigation Items -->
                    <ScrollViewer Grid.Row="0" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
                        <StackPanel x:Name="NavPanel" Orientation="Vertical" Spacing="4">
                            <!-- Home Button -->
                            <Button x:Name="HomeButton" 
                                    Click="NavButton_Click"
                                    Tag="Home"
                                    Style="{StaticResource NavButtonStyle}">
                                <StackPanel Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <Border Style="{StaticResource NavItemActiveBorderStyle}">
                                        <StackPanel Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <Image Source="ms-appx:///Assets/home.png" 
                                                   Style="{StaticResource NavIconStyle}" />
                                            <TextBlock Text="Home" 
                                                       Style="{StaticResource NavTextStyle}"
                                                       Foreground="{StaticResource NavbarAccentBrush}" />
                                        </StackPanel>
                                    </Border>
                                </StackPanel>
                            </Button>

                            <!-- Collections Button -->
                            <Button x:Name="CollectionsButton" 
                                    Click="NavButton_Click"
                                    Tag="Collections"
                                    Style="{StaticResource NavButtonStyle}">
                                <StackPanel Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <Border Style="{StaticResource NavItemBorderStyle}">
                                        <StackPanel Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <Image Source="ms-appx:///Assets/collections.png" 
                                                   Style="{StaticResource NavIconStyle}" />
                                            <TextBlock Text="Collections" 
                                                       Style="{StaticResource NavTextStyle}" />
                                        </StackPanel>
                                    </Border>
                                </StackPanel>
                            </Button>

                            <!-- AI Generated Button -->
                            <Button x:Name="AIGeneratedButton" 
                                    Click="NavButton_Click"
                                    Tag="AIGenerated"
                                    Style="{StaticResource NavButtonStyle}">
                                <StackPanel Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <Border Style="{StaticResource NavItemBorderStyle}">
                                        <StackPanel Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <Image Source="ms-appx:///Assets/aigenerated.png" 
                                                   Style="{StaticResource NavIconStyle}" />
                                            <TextBlock Text="AI generated" 
                                                       Style="{StaticResource NavTextStyle}" />
                                        </StackPanel>
                                    </Border>
                                </StackPanel>
                            </Button>

                            <!-- Personal Button -->
                            <Button x:Name="PersonalButton" 
                                    Click="NavButton_Click"
                                    Tag="Personal"
                                    Style="{StaticResource NavButtonStyle}">
                                <StackPanel Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <Border Style="{StaticResource NavItemBorderStyle}">
                                        <StackPanel Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <Image Source="ms-appx:///Assets/personal.png" 
                                                   Style="{StaticResource NavIconStyle}" />
                                            <TextBlock Text="Personal" 
                                                       Style="{StaticResource NavTextStyle}" />
                                        </StackPanel>
                                    </Border>
                                </StackPanel>
                            </Button>

                            <!-- Slideshow Button -->
                            <Button x:Name="SlideshowButton" 
                                    Click="NavButton_Click"
                                    Tag="Slideshow"
                                    Style="{StaticResource NavButtonStyle}">
                                <StackPanel Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <Border Style="{StaticResource NavItemBorderStyle}">
                                        <StackPanel Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <Image Source="ms-appx:///Assets/slideshow.png" 
                                                   Style="{StaticResource NavIconStyle}" />
                                            <TextBlock Text="Slideshow" 
                                                       Style="{StaticResource NavTextStyle}" />
                                        </StackPanel>
                                    </Border>
                                </StackPanel>
                            </Button>

                            <!-- Interactive Slideshow Button -->
                            <Button x:Name="InteractiveSlideshowButton" 
                                    Click="NavButton_Click"
                                    Tag="InteractiveSlideshow"
                                    Style="{StaticResource NavButtonStyle}">
                                <StackPanel Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <Border Style="{StaticResource NavItemBorderStyle}">
                                        <StackPanel Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <Image Source="ms-appx:///Assets/interactive.png" 
                                                   Style="{StaticResource NavIconStyle}" />
                                            <TextBlock Text="Interactive slideshow" 
                                                       Style="{StaticResource NavTextStyle}" />
                                        </StackPanel>
                                    </Border>
                                </StackPanel>
                            </Button>

                            <!-- Widgets Button -->
                            <Button x:Name="WidgetsButton" 
                                    Click="NavButton_Click"
                                    Tag="Widgets"
                                    Style="{StaticResource NavButtonStyle}">
                                <StackPanel Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <Border Style="{StaticResource NavItemBorderStyle}">
                                        <StackPanel Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <Image Source="ms-appx:///Assets/widget.png" 
                                                   Style="{StaticResource NavIconStyle}" />
                                            <TextBlock Text="Widgets" 
                                                       Style="{StaticResource NavTextStyle}" />
                                        </StackPanel>
                                    </Border>
                                </StackPanel>
                            </Button>

                            <!-- Upload Wallpaper Button -->
                            <Button x:Name="UploadWallpaperButton" 
                                    Click="NavButton_Click"
                                    Tag="UploadWallpaper"
                                    Style="{StaticResource NavButtonStyle}">
                                <StackPanel Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <Border Style="{StaticResource NavItemBorderStyle}">
                                        <StackPanel Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <Image Source="ms-appx:///Assets/upload.png" 
                                                   Style="{StaticResource NavIconStyle}" />
                                            <TextBlock Text="Upload wallpaper" 
                                                       Style="{StaticResource NavTextStyle}" />
                                        </StackPanel>
                                    </Border>
                                </StackPanel>
                            </Button>
                        </StackPanel>
                    </ScrollViewer>

                    <!-- Footer Navigation Items (fixed at bottom) -->
                    <StackPanel Grid.Row="1" x:Name="FooterNavPanel" Orientation="Vertical" Spacing="4" Margin="0,4,0,0">
                        <!-- Add a separator line -->
                        <Rectangle Height="1" Fill="#EEEEEE" Margin="8,0,8,4"/>
                        
                        <!-- My Account Button -->
                        <Button x:Name="MyAccountButton" 
                                Click="NavButton_Click"
                                Tag="MyAccount"
                                Style="{StaticResource NavButtonStyle}">
                            <StackPanel Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Center">
                                <Border Style="{StaticResource NavItemBorderStyle}">
                                    <StackPanel Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Center">
                                        <Image Source="ms-appx:///Assets/account.png" 
                                               Style="{StaticResource NavIconStyle}" />
                                        <TextBlock Text="My account" 
                                                   Style="{StaticResource NavTextStyle}" />
                                    </StackPanel>
                                </Border>
                            </StackPanel>
                        </Button>

                        <!-- Settings Button -->
                        <Button x:Name="SettingsButton" 
                                Click="NavButton_Click"
                                Tag="Settings"
                                Style="{StaticResource NavButtonStyle}">
                            <StackPanel Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Center">
                                <Border Style="{StaticResource NavItemBorderStyle}">
                                    <StackPanel Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Center">
                                        <Image Source="ms-appx:///Assets/settings.png" 
                                               Style="{StaticResource NavIconStyle}" />
                                        <TextBlock Text="Settings" 
                                                   Style="{StaticResource NavTextStyle}" />
                                    </StackPanel>
                                </Border>
                            </StackPanel>
                        </Button>
                    </StackPanel>
                </Grid>
            </Border>
            
            <!-- Content Frame -->
            <Frame x:Name="ContentFrame" 
                   Grid.Column="1" 
                   Padding="0" 
                   Background="{ThemeResource ApplicationPageBackgroundThemeBrush}" />
        </Grid>
    </Grid>
</Window>
